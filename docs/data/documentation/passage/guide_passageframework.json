{"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/passage\/guide_passageframework"]}],"kind":"article","abstract":[{"type":"text","text":"This guide provides a high level view of the passage-ios framework and how to get started with it."}],"hierarchy":{"paths":[["doc:\/\/Passage\/documentation\/Passage"]]},"seeAlsoSections":[{"generated":true,"title":"Guides","identifiers":["doc:\/\/Passage\/documentation\/Passage\/Guide_Registration","doc:\/\/Passage\/documentation\/Passage\/Guide_Login","doc:\/\/Passage\/documentation\/Passage\/Guide_PasskeyAutofill","doc:\/\/Passage\/documentation\/Passage\/Guide_SessionManagement"]}],"schemaVersion":{"patch":0,"major":0,"minor":3},"identifier":{"interfaceLanguage":"swift","url":"doc:\/\/Passage\/documentation\/Passage\/Guide_PassageFramework"},"sections":[],"metadata":{"title":"Getting Started","modules":[{"name":"Passage"}],"roleHeading":"Article","role":"article"},"primaryContentSections":[{"kind":"content","content":[{"type":"heading","text":"Overview","level":2,"anchor":"Overview"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The passage-ios framewok includes classes that provide everything you need to create and authenticate, and manage users in your application."}]},{"level":3,"anchor":"PassageAuth","type":"heading","text":"PassageAuth"},{"type":"paragraph","inlineContent":[{"type":"text","text":"PassageAuth is the primary class you will work with. It provides the following:"}]},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Registration","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Login"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Sign Out (if you use a Passage Token Store)","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"User Management"}]}]},{"content":[{"inlineContent":[{"text":"App Details","type":"text"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"And More"}]}]}],"type":"unorderedList"},{"type":"paragraph","inlineContent":[{"type":"text","text":"There are 2 ways of using PassageAuth depending on how you want to manage your user’s tokens."}]},{"text":"Type Methods","type":"heading","anchor":"Type-Methods","level":4},{"inlineContent":[{"text":"PassageAuth exposes all methods as Type Methods if you want to manage your user’s token yourself. Using this approach the storage of the user’s tokens is up to you. The methods which return tokens will simply return the tokens for you to manage. To use the type methods simply call the methods on the type:","type":"text"}],"type":"paragraph"},{"syntax":null,"code":["\/\/ register","let result = try await PassageAuth.register(identifier: 'emailORPhone')","","\/\/ login","let result = try await PassageAuth.login(identifier: 'emailOrPhone')"],"type":"codeListing"},{"anchor":"Instance-Methods","type":"heading","level":4,"text":"Instance Methods"},{"inlineContent":[{"type":"text","text":"PassageAuth also exposes methods through an Instance. When creating a new instance you can either pass a class that implements the PassageTokenStore protocol or use the shared instance of PassageStore (which is the default if you don’t instantiate with a store). Using this approach the methods will still return the tokens but will also manage the tokens by setting or deleting the tokens in the store for you. To use the instance methods:"}],"type":"paragraph"},{"syntax":null,"code":["\/\/ instantiate with your own store","let passage = PassageAuth(store: yourStore)","","\/\/ or instantiate using the PassageStore shared instance","let passage = PassageAuth()","","\/\/ register","let result = try await passage.register(identifier: 'emailOrPhone')","","\/\/ login","let result = try await passage.login(identifier: 'emailOrPhone')"],"type":"codeListing"},{"anchor":"PassageStore","level":4,"type":"heading","text":"PassageStore"},{"type":"paragraph","inlineContent":[{"type":"text","text":"The PassageStore class implements the PassageTokenStore protocol and can be used with PassageAuth to manage the storage\/retrieval of your user’s tokens. It is a Singleton class and you use a ‘shared’ instance of it. If you instantiate PassageAuth without a tokenStore, it will use PassageStore.shared to manage your tokens for you."}]},{"items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Implements PassageAuthToken store so it can be used by PassageAuth to manage your tokens for you","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Wraps Keychain to securely store your user’s tokens"}]}]}],"type":"unorderedList"},{"text":"PassageTokenUtils","anchor":"PassageTokenUtils","type":"heading","level":4},{"type":"paragraph","inlineContent":[{"text":"This class contains both instance and type methods to use when working with a user’s tokens.","type":"text"}]},{"type":"unorderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Decode tokens"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Check token expiration"}]}]}]},{"inlineContent":[{"type":"text","text":"Use the type methods you pass a token to each type method."}],"type":"paragraph"},{"syntax":null,"code":["let decodedToken = PassageTokenUtils.decode(jwtToken: 'tokenstring')","","let isExpired = PassageTokenUtils.isTokenExpired(decodedToken: decodedToken)"],"type":"codeListing"},{"type":"paragraph","inlineContent":[{"text":"If you want to use the instance methods then you pass the token to the initializer:","type":"text"}]},{"code":[" let token = PassageTokenUtils(token: 'tokenString')"," let decodedToken = token.decodedToken",""," let isExpired = token.isExpired"],"type":"codeListing","syntax":null},{"level":3,"type":"heading","text":"Async \/ Handling errors","anchor":"Async--Handling-errors"},{"inlineContent":[{"type":"text","text":"Passage methods are all async functions that can throw errors. So you should wrap the calls in a do…catch"}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"text":"If the wrapping code is async simply use try await:","type":"text"}]},{"type":"codeListing","syntax":null,"code":["do {","    let result = try await PassageAuth.login()","} catch {","    \/\/ handle error","}"]},{"inlineContent":[{"text":"Or you can wrap it in a task:","type":"text"}],"type":"paragraph"},{"code":["Task {","    do {","        let result = try await PassageAuth.login()","    } catch {","        \/\/ handle error","    }","}"],"type":"codeListing","syntax":null}]}],"references":{"doc://Passage/documentation/Passage":{"role":"collection","title":"Passage","abstract":[{"type":"text","text":"Use Passage to add exclusively Passwordless authentication to your iOS Application."}],"kind":"symbol","type":"topic","url":"\/documentation\/passage","identifier":"doc:\/\/Passage\/documentation\/Passage"},"doc://Passage/documentation/Passage/Guide_PasskeyAutofill":{"title":"Guide PasskeyAutofill","url":"\/documentation\/passage\/guide_passkeyautofill","role":"article","abstract":[{"text":"Enable Passkey autofill to make it easier for your users to login with Passkeys.","type":"text"}],"kind":"article","identifier":"doc:\/\/Passage\/documentation\/Passage\/Guide_PasskeyAutofill","type":"topic"},"doc://Passage/documentation/Passage/Guide_Login":{"title":"Login","url":"\/documentation\/passage\/guide_login","role":"article","abstract":[{"text":"This guide will explain how to log in users with the passage-ios framework.","type":"text"}],"kind":"article","identifier":"doc:\/\/Passage\/documentation\/Passage\/Guide_Login","type":"topic"},"doc://Passage/documentation/Passage/Guide_Registration":{"title":"User Registration","url":"\/documentation\/passage\/guide_registration","role":"article","abstract":[{"text":"This guide will explain how to register new users with the passage-ios framework.","type":"text"}],"kind":"article","identifier":"doc:\/\/Passage\/documentation\/Passage\/Guide_Registration","type":"topic"},"doc://Passage/documentation/Passage/Guide_SessionManagement":{"title":"Session Management","url":"\/documentation\/passage\/guide_sessionmanagement","role":"article","abstract":[{"text":"This guide provides an overview of how session management is handled using Passage and how to use passage-ios to handle refresh tokens.","type":"text"}],"kind":"article","identifier":"doc:\/\/Passage\/documentation\/Passage\/Guide_SessionManagement","type":"topic"}}}