{"kind":"article","identifier":{"url":"doc:\/\/Passage\/documentation\/Passage\/GetStarted_AssociatedDomains","interfaceLanguage":"swift"},"metadata":{"roleHeading":"Article","role":"article","title":"Associated Domains","modules":[{"name":"Passage"}]},"abstract":[{"type":"text","text":"Before you can use the passage-ios framework in your application you will need to setup an Associated Domain."}],"seeAlsoSections":[{"title":"Getting Started","identifiers":["doc:\/\/Passage\/documentation\/Passage\/GetStarted_PassageApplication","doc:\/\/Passage\/documentation\/Passage\/GetStarted_Frontend","doc:\/\/Passage\/documentation\/Passage\/GetStarted_Backend"],"generated":true}],"primaryContentSections":[{"kind":"content","content":[{"text":"Overview","type":"heading","anchor":"Overview","level":2},{"type":"paragraph","inlineContent":[{"type":"text","text":"In order to use Passage in your application you will need to establish a secure association between your iOS Application and your application’s domain. Setting up an associated domain and adding the required entitlements to your project establishes this association. This association needs to be established before using Passkeys or Magic Links in your application."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"Establishing this association is an easy 2 step process that involves hosting a file on your domain and then adding the appropriate entitlements to your application’s project."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"It is out of scope for this document to provide all the details for supporting associated domains, so for all the details on Supporting Associated domains see "},{"isActive":true,"identifier":"https:\/\/developer.apple.com\/documentation\/xcode\/supporting-associated-domains","type":"reference"},{"type":"text","text":"."}]},{"type":"paragraph","inlineContent":[{"text":"Note: Even if you will not use Passkeys you will need to setup an associated domain for your application in order to use universal links for magic link support.","type":"text"}]},{"type":"heading","text":"Step 1: Add the Associated Domain File to Your Website","anchor":"Step-1-Add-the-Associated-Domain-File-to-Your-Website","level":2},{"inlineContent":[{"text":"The website hosting your domain will need to serve a file named ‘apple-app-site-association’ in the ‘.well-known’ in the root of your website.","type":"text"}],"type":"paragraph"},{"type":"paragraph","inlineContent":[{"text":"The full path to this file should look like:","type":"text"}]},{"type":"codeListing","syntax":null,"code":["https:\/\/<fully qualified domain>\/.well-known\/apple-app-site-association"]},{"inlineContent":[{"type":"text","text":"Apple’s CDN will request this file to verify that the domain is associated with your iOS Application."}],"type":"paragraph"},{"inlineContent":[{"type":"text","text":"Sample apple-app-site-association:"}],"type":"paragraph"},{"code":["{","  \"applinks\": {","    \"apps\": [],","    \"details\": [","      {","        \"appID\": \"LKQWMG6BWA.id.passage.example-ios\",","        \"paths\": [","          \"*\"","        ]","      }","    ]","  },","  \"webcredentials\": {","    \"apps\": [","      \"LKQWMG6BWA.id.passage.example-ios\"","    ]","  }","}",""],"syntax":null,"type":"codeListing"},{"type":"paragraph","inlineContent":[{"text":"This sample configures web credentials and universal links for your application. You will need to replace the appIDs in the above example with the appID of your application. This sample will configure universal links so that all links to your domain will open in your iOS Application if the user has it installed.","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"For more information see "},{"identifier":"https:\/\/developer.apple.com\/documentation\/xcode\/supporting-associated-domains","overridingTitle":"Supporting Associated Domains","overridingTitleInlineContent":[{"type":"text","text":"Supporting Associated Domains"}],"type":"reference","isActive":true},{"text":".","type":"text"}]},{"type":"heading","text":"Step 2: Add associated domain entitlements","level":2,"anchor":"Step-2-Add-associated-domain-entitlements"},{"type":"paragraph","inlineContent":[{"text":"The next step is to enable the appropriate entitlements in your project. These entitlements will associate your iOS Application with your domain and use the apple-app-site-association file to verify this association.","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"To add the entitlements to your application:"}]},{"type":"orderedList","items":[{"content":[{"type":"paragraph","inlineContent":[{"text":"Open the targets ‘Signing & Capabilities’ tab in xCode","type":"text"}]}]},{"content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"Click Add(+) at the bottom of the domains table"}]}]},{"content":[{"inlineContent":[{"type":"text","text":"Replace the placeholder domain with your authentication origin"}],"type":"paragraph"}]}]},{"inlineContent":[{"type":"image","identifier":"AssociatedDomainsConfig"}],"type":"paragraph"},{"type":"unorderedList","items":[{"content":[{"inlineContent":[{"type":"text","text":"Passkeys require the "},{"type":"strong","inlineContent":[{"type":"text","text":"‘webcredentials’"}]},{"type":"text","text":" entitlement"}],"type":"paragraph"}]},{"content":[{"type":"paragraph","inlineContent":[{"text":"Universal links require the ","type":"text"},{"inlineContent":[{"text":"‘applinks’","type":"text"}],"type":"strong"},{"type":"text","text":" entitlement"}]}]}]},{"inlineContent":[{"type":"text","text":"For more information see "},{"isActive":true,"overridingTitle":"Supporting Associated Domains","type":"reference","identifier":"https:\/\/developer.apple.com\/documentation\/xcode\/supporting-associated-domains","overridingTitleInlineContent":[{"text":"Supporting Associated Domains","type":"text"}]},{"text":" for more detailed information.","type":"text"}],"type":"paragraph"}]}],"variants":[{"traits":[{"interfaceLanguage":"swift"}],"paths":["\/documentation\/passage\/getstarted_associateddomains"]}],"hierarchy":{"paths":[["doc:\/\/Passage\/documentation\/Passage"]]},"schemaVersion":{"patch":0,"major":0,"minor":3},"sections":[],"references":{"AssociatedDomainsConfig":{"alt":"Associated Domain Config","variants":[{"url":"\/images\/AssociatedDomainsConfig.png","traits":["1x","light"]}],"type":"image","identifier":"AssociatedDomainsConfig"},"doc://Passage/documentation/Passage":{"role":"collection","title":"Passage","abstract":[{"type":"text","text":"Use Passage to add exclusively Passwordless authentication to your iOS Application."}],"kind":"symbol","type":"topic","url":"\/documentation\/passage","identifier":"doc:\/\/Passage\/documentation\/Passage"},"doc://Passage/documentation/Passage/GetStarted_PassageApplication":{"abstract":[{"type":"text","text":"Before your can add Passage to your application you will need to have a Passage application setup. This article will show you how to get it done."}],"url":"\/documentation\/passage\/getstarted_passageapplication","role":"article","type":"topic","kind":"article","title":"Passage Application Setup","identifier":"doc:\/\/Passage\/documentation\/Passage\/GetStarted_PassageApplication"},"doc://Passage/documentation/Passage/GetStarted_Frontend":{"abstract":[{"type":"text","text":"This article will walk you through adding the passage-ios framework to your iOS applications project."}],"url":"\/documentation\/passage\/getstarted_frontend","role":"article","type":"topic","kind":"article","title":"Adding Passage to Your iOS Application","identifier":"doc:\/\/Passage\/documentation\/Passage\/GetStarted_Frontend"},"https://developer.apple.com/documentation/xcode/supporting-associated-domains":{"title":"Supporting Associated Domains","titleInlineContent":[{"type":"text","text":"Supporting Associated Domains"}],"type":"link","identifier":"https:\/\/developer.apple.com\/documentation\/xcode\/supporting-associated-domains","url":"https:\/\/developer.apple.com\/documentation\/xcode\/supporting-associated-domains"},"doc://Passage/documentation/Passage/GetStarted_Backend":{"title":"Adding Passage To Your Backend","kind":"article","role":"article","abstract":[{"type":"text","text":"This article will walk you through securing your backend with Passage and the changes it will require to your frontend."}],"url":"\/documentation\/passage\/getstarted_backend","type":"topic","identifier":"doc:\/\/Passage\/documentation\/Passage\/GetStarted_Backend"}}}