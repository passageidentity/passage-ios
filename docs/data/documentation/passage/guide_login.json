{"sections":[],"hierarchy":{"paths":[["doc:\/\/Passage\/documentation\/Passage"]]},"identifier":{"url":"doc:\/\/Passage\/documentation\/Passage\/Guide_Login","interfaceLanguage":"swift"},"primaryContentSections":[{"content":[{"anchor":"Overview","text":"Overview","level":2,"type":"heading"},{"type":"paragraph","inlineContent":[{"text":"Login will attempt to use a Passkey on the userâ€™s device if supported (iOS 16+) and if not supported will send the user a login magic link.","type":"text"}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"A Passkey login attempt can fail if the user does not have a valid Passkey on the device or if they cancel the Passkey prompt. In either of these cases a login magic link will be sent to the user. Upon successful activation of the magic link the user will be authenticated. We reccomend providing the option to add a Passkey to the device (using PassageAuth.addDevice if supported)."}]},{"inlineContent":[{"type":"text","text":"The login method returns a tuple with 2 optionals"}],"type":"paragraph"},{"code":["(authResult: AuthResult?, magicLink: MagicLink?)"],"type":"codeListing","syntax":null},{"type":"paragraph","inlineContent":[{"type":"text","text":"You will need to check whether the authResult or magicLink or none of these are returned. If authResult was returned, then the user was registered and authenticated, if magicLink was returned then the user was sent a magic link. If neither value is returned no action was performed."}]},{"type":"codeListing","syntax":null,"code":["\/\/ Unmanaged tokens","do {","    let result = try await PassageAuth.login(identifier: identifier)","    if let authResult = result.authResult {","        \/\/ user was logged in with a Passkey","    } else if let magicLink = result.magicLink {","        \/\/ user was sent a magic link","    } else {","        \/\/ no successful results","    }","} catch {","    \/\/ an error occured","}"]},{"type":"codeListing","syntax":null,"code":["\/\/ Managed tokens","do {","    let passage = PassageAuth(tokenStore: PassageStore.shared)","    let result = try await passage.login(identifier: identifier)","    if let authResult = result.authResult {","        \/\/ user was logged in with a Passkey","        \/\/ PassageStore.shared should contain their authToken","        print(\"token: \\(PassageStore.shared.authToken)\")","    } else if let magicLink = result.magicLink {","        \/\/ user was sent a magic link","    } else {","        \/\/ no successful results","    }","} catch {","    \/\/ an error occured","}"]}],"kind":"content"}],"kind":"article","seeAlsoSections":[{"identifiers":["doc:\/\/Passage\/documentation\/Passage\/Guide_PassageFramework","doc:\/\/Passage\/documentation\/Passage\/Guide_Registration","doc:\/\/Passage\/documentation\/Passage\/Guide_PasskeyAutofill","doc:\/\/Passage\/documentation\/Passage\/Guide_SessionManagement"],"generated":true,"title":"Guides"}],"variants":[{"paths":["\/documentation\/passage\/guide_login"],"traits":[{"interfaceLanguage":"swift"}]}],"metadata":{"title":"Login","role":"article","modules":[{"name":"Passage"}],"roleHeading":"Article"},"abstract":[{"type":"text","text":"This guide will explain how to log in users with the passage-ios framework."}],"schemaVersion":{"patch":0,"major":0,"minor":3},"references":{"doc://Passage/documentation/Passage":{"url":"\/documentation\/passage","identifier":"doc:\/\/Passage\/documentation\/Passage","kind":"symbol","type":"topic","title":"Passage","role":"collection","abstract":[{"type":"text","text":"Use Passage to add exclusively Passwordless authentication to your iOS Application."}]},"doc://Passage/documentation/Passage/Guide_SessionManagement":{"title":"Session Management","role":"article","url":"\/documentation\/passage\/guide_sessionmanagement","identifier":"doc:\/\/Passage\/documentation\/Passage\/Guide_SessionManagement","type":"topic","abstract":[{"type":"text","text":"This guide provides an overview of how session management is handled using Passage and how to use passage-ios to handle refresh tokens."}],"kind":"article"},"doc://Passage/documentation/Passage/Guide_PassageFramework":{"type":"topic","title":"Getting Started","identifier":"doc:\/\/Passage\/documentation\/Passage\/Guide_PassageFramework","kind":"article","url":"\/documentation\/passage\/guide_passageframework","abstract":[{"type":"text","text":"This guide provides a high level view of the passage-ios framework and how to get started with it."}],"role":"article"},"doc://Passage/documentation/Passage/Guide_Registration":{"title":"User Registration","role":"article","url":"\/documentation\/passage\/guide_registration","identifier":"doc:\/\/Passage\/documentation\/Passage\/Guide_Registration","type":"topic","abstract":[{"type":"text","text":"This guide will explain how to register new users with the passage-ios framework."}],"kind":"article"},"doc://Passage/documentation/Passage/Guide_PasskeyAutofill":{"type":"topic","title":"Guide PasskeyAutofill","identifier":"doc:\/\/Passage\/documentation\/Passage\/Guide_PasskeyAutofill","kind":"article","url":"\/documentation\/passage\/guide_passkeyautofill","abstract":[{"type":"text","text":"Enable Passkey autofill to make it easier for your users to login with Passkeys."}],"role":"article"}}}